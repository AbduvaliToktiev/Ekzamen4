create table "ekzamen4".routes(
id serial unique primary key,
route_number varchar not null,
starting_point varchar not null,
end_point varchar not null
);

create table "ekzamen4".buses(
id serial not null primary key,
rout_id int unique references "ekzamen4".routes(id)
);

create table "ekzamen4".drivers(
id serial unique primary key ,
fio varchar not null,
bus_id int not null references "ekzamen4".buses(id)
);

create table "ekzamen4".journal(
driver_id int not null references "ekzamen4".drivers(id),
bus_id int not null references "ekzamen4".buses(id),
time timestamp not null default current_timestamp
);

insert into "ekzamen4".routes(route_number, starting_point, end_point) values ('234', 'Мадина', 'Дордой');
insert into "ekzamen4".routes(route_number, starting_point, end_point) values ('220', 'Филармония', 'Аламедин-1');
insert into "ekzamen4".routes(route_number, starting_point, end_point) values ('216', 'Мед.Академия', 'Аламедин-1');

insert into "ekzamen4".buses(rout_id) values (3);
insert into "ekzamen4".buses(rout_id) values (2);
insert into "ekzamen4".buses(rout_id) values (1);

insert into "ekzamen4".drivers(fio, bus_id) VALUES ('Азамат Азаматов Азматович', 1);
insert into "ekzamen4".drivers(fio, bus_id) VALUES ('Токтиев Абдували Азизджанович', 2);
insert into "ekzamen4".drivers(fio, bus_id) VALUES ('Руслан русланов Русланович', 3);

insert into "ekzamen4".journal(driver_id, bus_id) VALUES (1,1);
insert into "ekzamen4".journal(driver_id, bus_id) VALUES (2,2);
insert into "ekzamen4".journal(driver_id, bus_id) VALUES (3,3);
